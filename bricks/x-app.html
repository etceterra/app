<template>
  <section class="menu">
    <header>
      <img src="/assets/img/naturapeute-logo.svg" alt="Logo">
      <h1>Naturapeute <small>Pro</small></h1>
    </header>
    <nav>
      <a href="/" :active="state.page === 'calendar'">Agenda</a>
      <a href="/clients":active="state.page.startsWith('client')">Clients</a>
    </nav>
  </section>
  <section name="center">
    <page-calendar :if="state.page === 'calendar'" :id="state.clientId"></page-calendar>
    <page-clients :if="state.page === 'clients'"></page-clients>
    <page-client :if="state.page === 'client'" :id="state.clientId"></page-client>
  </section>
  <section name="right"></section>
</template>

<script>
  init() {
    this.state = {
      page: ''
    }

    page('/', () => {
      this.render({ page: 'calendar' })
    })

    page('/clients', () => {
      this.render({ page: 'clients' })
    })

    page('/client/:id', (req) => {
      this.render({ page: 'client', clientId: req.params.id })
    })

    page({ hashbang: true, click: true })
  }
</script>

<style>
  @import url("/assets/css/main.css");

  :host root {
    flex-grow: 1;
    display: flex;
    flex-direction: row;
  }

  header img {
    margin-bottom: 1rem !important;
  }

  nav[selected] {

  }
</style>
