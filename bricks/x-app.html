<template>
  <section class="menu">
    <header>
      <img src="/assets/img/naturapeute-logo.svg" alt="Logo">
      <h1>Naturapeute <small>Pro</small></h1>
    </header>
    <nav>
      <a href="/" :active="state.page === 'calendar'"><i class="far fa-calendar"></i>Agenda</a>
      <a href="/patients":active="state.page.startsWith('client')"><i class="far fa-user"></i>Patients</a>
    </nav>
  </section>
  <section name="center">
    <page-calendar :if="state.page === 'calendar'" :id="state.clientId"></page-calendar>
    <page-clients :if="state.page === 'clients'"></page-clients>
    <page-client :if="state.page === 'client'" :id="state.clientId"></page-client>
    <page-client-edit :if="state.page === 'client-edit'" :id="state.clientId"></page-client-edit>
  </section>
  <section name="right"></section>
</template>

<script>
  init() {
    this.state = {
      page: ''
    }

    page('/', () => {
      this.render({ page: 'calendar' })
    })

    page('/patients', () => {
      this.render({ page: 'clients', clientId: null })
    })

    page('/patient/:id', (req) => {
      this.render({ page: 'client', clientId: req.params.id })
    })

    page('/patient/:id/edit', (req) => {
      this.render({ page: 'client-edit', clientId: req.params.id })
    })

    page('/patient', (req) => {
      this.render({ page: 'client-edit' })
    })

    page({ hashbang: true, click: true })
  }
</script>

<style>
  @import url("/assets/css/main.css");

  :host root {
    flex-grow: 1;
    display: flex;
    flex-direction: row;
  }

  nav .far {
    margin-right: .88rem;
  }

  header img {
    margin-bottom: 1rem !important;
  }
</style>
